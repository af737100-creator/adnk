<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إنشاء درس - تعليمي</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f5f5f5; direction: rtl; }
        .dashboard { display: flex; min-height: 100vh; }
        .sidebar { width: 250px; background: white; padding: 20px; }
        .sidebar button { display: block; width: 100%; padding: 12px; margin: 5px 0; border: none; background: none; cursor: pointer; text-align: right; }
        .content { flex: 1; padding: 20px; }
        .form-group { margin-bottom: 20px; }
        input, textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="sidebar">
            <h2 style="color: #4361ee;">تعليمي</h2>
            <button onclick="navigateToDashboard()">لوحة التحكم</button>
            <button onclick="navigateToCreateCourse()" style="background: #f0f4ff;">إنشاء درس</button>
            <button onclick="navigateToSettings()">الإعدادات</button>
        </div>
        
        <div class="content">
            <h1>إنشاء درس جديد</h1>
            <button onclick="navigateToDashboard()" style="background: #ddd; padding: 10px 20px; border: none; border-radius: 5px; margin: 20px 0;">رجوع</button>
            
            <div style="background: white; padding: 30px; border-radius: 8px;">
                <div class="form-group">
                    <label>عنوان الدرس</label>
                    <input type="text" id="title" placeholder="أدخل عنوان الدرس">
                </div>
                
                <div class="form-group">
                    <label>رابط يوتيوب</label>
                    <input type="url" id="url" placeholder="https://youtube.com/watch?v=...">
                    <button onclick="loadVideo()" style="background: #4361ee; color: white; padding: 10px; border: none; border-radius: 5px; margin-top: 10px;">تحميل</button>
                </div>
                
                <div id="preview" style="display: none; margin-top: 20px;">
                    <img id="thumbnail" src="" style="max-width: 100%; border-radius: 8px;">
                </div>
                
                <button onclick="saveCourse()" style="background: #4361ee; color: white; padding: 15px; border: none; border-radius: 5px; margin-top: 20px; width: 100%;">حفظ الدرس</button>
            </div>
        </div>
    </div>

    <script>
    function getBasePath() {
        return window.location.hostname.includes('github.io') ? '/adnk' : '';
    }
    
    function navigateToDashboard() {
        window.location.href = getBasePath() + '/pages/dashboard.html';
    }
    
    function navigateToCreateCourse() {
        window.location.href = getBasePath() + '/pages/create-course.html';
    }
    
    function navigateToSettings() {
        window.location.href = getBasePath() + '/pages/settings.html';
    }
    
    function loadVideo() {
        const url = document.getElementById('url').value;
        const videoId = url.match(/(?:youtube\.com\/watch\?v=)([^&]+)/)?.[1];
        
        if (!videoId) {
            alert('❌ رابط غير صالح');
            return;
        }
        
        document.getElementById('thumbnail').src = `https://img.youtube.com/vi/${videoId}/0.jpg`;
        document.getElementById('preview').style.display = 'block';
        alert('✅ تم تحميل الفيديو');
    }
    
    function saveCourse() {
        const title = document.getElementById('title').value;
        if (!title) {
            alert('❌ الرجاء إدخال عنوان الدرس');
            return;
        }
        alert('✅ تم حفظ الدرس');
        navigateToDashboard();
    }
    </script>
</body>
</html>